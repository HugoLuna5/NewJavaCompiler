.data 
VT_A_87: NOP             ; VT de la clase A 
.data 
VT_Object_84: NOP             ; VT de la clase Object 
.data 
VT_System_85: NOP             ; VT de la clase System 
.data 
VT_Principal_86: NOP             ; VT de la clase Principal 
.code 
                   PUSH simple_heap_init 
                   CALL            
                   PUSH met_main_459 
                   CALL            
                   HALT            
simple_heap_init: RET 0           ; Retorna inmediatamente 
simple_malloc: LOADFP          ; Inicialización unidad 
                   LOADSP          
                   STOREFP         ; Finaliza inicialización del RA 
                   LOADHL          ; hl 
                   DUP             ; hl 
                   PUSH 1          ; 1 
                   ADD             ; hl+1 
                   STORE 4         ; Guarda el resultado (un puntero a la primer celda de la región de memoria) 
                   LOAD 3          ; Carga la cantidad de celdas a alojar (parámetro que debe ser positivo) 
                   ADD             
                   STOREHL         ; Mueve el heap limit (hl). Expande el heap 
                   STOREFP         
                   RET 1           ; Retorna eliminando el parámetro 
.data 
mensaje_error_cast: DW "[Excepcion] Se produjo error al intentar castear",0 ; Mensaje para casteos erroneos 
.code 
error_cast: PUSH mensaje_error_cast ; Apilo msj de error 
                   SPRINT          
                   HALT            
met_A_461: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_Object_447: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_System_448: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printC_451: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   CPRINT          
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printS_453: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   SPRINT          
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_println_454: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   PRNLN           
                   STOREFP         ; Reestablece el contexto 
                   RET 0           ; Retorna de la llamada, liberando parametros 
met_printCln_456: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   CPRINT          
                   PRNLN           
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printSln_458: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   SPRINT          
                   PRNLN           
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_read_449: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   READ            
                   STORE 3         
                   STOREFP         ; Reestablece el contexto 
                   RET 0           ; Retorna de la llamada, liberando parametros 
met_printB_450: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   BPRINT          
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printIln_457: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   IPRINT          
                   PRNLN           
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printI_452: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   IPRINT          
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_printBln_455: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   LOAD 3          
                   BPRINT          
                   PRNLN           
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_Principal_460: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   STOREFP         ; Reestablece el contexto 
                   RET 1           ; Retorna de la llamada, liberando parametros 
met_main_459: LOADFP          ; Guardar enlace dinamico 
                   LOADSP          ; Inicializar el FP 
                   STOREFP         ;  
                   RMEM 2          ; Se declaran 2 variables locales. Reservo lugar. 
                   PUSH 0          ; Apilo NULL 
                   STORE 0         ; Guardo parametro/var local a 
                                   ; Comienzo del IF_462 
                   LOAD 0          ; Cargo parametro/var local a 
                   PUSH 0          ; Apilo NULL 
                   NE              
                   BF IF_L1_462    
.data 
str_463: DW "[ERROR]",0  ; Guardo un string 
.code 
                   PUSH str_463    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
                   JUMP IF_L2_462  
IF_L1_462: NOP             ;  
.data 
str_464: DW "[OK]",0     ; Guardo un string 
.code 
                   PUSH str_464    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
IF_L2_462: NOP             ;  
                                   ; Fin del IF_462 
                   LOAD 0          ; Cargo parametro/var local a 
                   STORE -1        ; Guardo parametro/var local b 
                                   ; Comienzo del IF_465 
                   LOAD -1         ; Cargo parametro/var local b 
                   PUSH 0          ; Apilo NULL 
                   EQ              
                   BF IF_L1_465    
.data 
str_466: DW "[OK]",0     ; Guardo un string 
.code 
                   PUSH str_466    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
                   JUMP IF_L2_465  
IF_L1_465: NOP             ;  
.data 
str_467: DW "[ERROR]",0  ; Guardo un string 
.code 
                   PUSH str_467    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
IF_L2_465: NOP             ;  
                                   ; Fin del IF_465 
                                   ; Comienzo del IF_468 
                   LOAD -1         ; Cargo parametro/var local b 
                   LOAD 0          ; Cargo parametro/var local a 
                   EQ              
                   BF IF_L1_468    
.data 
str_469: DW "[OK]",0     ; Guardo un string 
.code 
                   PUSH str_469    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
                   JUMP IF_L2_468  
IF_L1_468: NOP             ;  
.data 
str_470: DW "[ERROR]",0  ; Guardo un string 
.code 
                   PUSH str_470    ; Apilo un string 
                   PUSH met_printSln_458 ; Preparo para llamar al metodo System.printSln 
                   CALL            
IF_L2_468: NOP             ;  
                                   ; Fin del IF_468 
                   FMEM 2          ; Libero las variables locales declaradas dentro de mi bloque 
                   STOREFP         ; Reestablece el contexto 
                   RET 0           ; Retorna de la llamada, liberando parametros 
